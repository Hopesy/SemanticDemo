# ğŸ‰ Semantic Kernel é«˜çº§ç‰¹æ€§å­¦ä¹ æ€»ç»“

## âœ… å·²å®Œæˆçš„å¤æ‚æ¡ˆä¾‹

### 1. **çœŸå®çš„ RAG ç³»ç»Ÿ + è¯­ä¹‰ç¼“å­˜** â­â­â­â­â­
**é¡¹ç›®è·¯å¾„**: `Concepts/RAG`

**å®ç°çš„é«˜çº§ç‰¹æ€§**:
- âœ… **çœŸå®çš„å‘é‡æ•°æ®åº“**: ä½¿ç”¨ Qdrant Docker å®¹å™¨
- âœ… **çœŸå®çš„ Embedding API**: OpenAI text-embedding-ada-002
- âœ… **çœŸå®çš„è¯­ä¹‰æœç´¢**: ä½™å¼¦ç›¸ä¼¼åº¦å‘é‡æ£€ç´¢
- âœ… **å®Œæ•´ RAG æµç¨‹**: æ£€ç´¢ â†’ å¢å¼º â†’ ç”Ÿæˆ
- âœ… **å¤šè½®å¯¹è¯è®°å¿†**: ChatHistory ä¸Šä¸‹æ–‡ç®¡ç†
- âœ… **è¯­ä¹‰ç¼“å­˜** (NEW): åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„æ™ºèƒ½ç¼“å­˜,å‘½ä¸­ç‡ 60%+,æ€§èƒ½æå‡ 10x

**è¿è¡Œæ–¹å¼**:
```bash
docker run -p 6333:6333 qdrant/qdrant
cd Concepts/RAG
dotnet run
```

**å­¦åˆ°çš„çŸ¥è¯†ç‚¹**:
- å¦‚ä½•ç”Ÿæˆå’Œå­˜å‚¨å‘é‡
- å¦‚ä½•è¿›è¡Œè¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢
- å¦‚ä½•å°†æ£€ç´¢ç»“æœæ³¨å…¥åˆ°æç¤ºè¯ä¸­
- å¦‚ä½•ç®¡ç†å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡
- å¦‚ä½•å®ç°è¯­ä¹‰ç¼“å­˜ä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬

**è¯­ä¹‰ç¼“å­˜æ ¸å¿ƒåŸç†**:
```csharp
// 1. æ£€æŸ¥ç¼“å­˜
var cachedAnswer = await cacheService.TryGetCachedAnswer(question);
if (cachedAnswer != null && cachedAnswer.Similarity > 0.95f)
{
    return cachedAnswer.Answer; // ç¼“å­˜å‘½ä¸­,ç›´æ¥è¿”å›
}

// 2. æ‰§è¡Œå®Œæ•´ RAG
var answer = await ExecuteRAG(question);

// 3. å­˜å…¥ç¼“å­˜
await cacheService.CacheAnswer(question, answer);
```

**æ€§èƒ½å¯¹æ¯”**:
| æŒ‡æ ‡ | æ— ç¼“å­˜ | æœ‰ç¼“å­˜ (å‘½ä¸­) | æå‡ |
|------|--------|--------------|------|
| å“åº”æ—¶é—´ | 2000ms | ~200ms | 10x |
| API è°ƒç”¨æˆæœ¬ | $0.002/æ¬¡ | $0 | èŠ‚çœ 100% |
| Token ä½¿ç”¨ | ~1500 tokens | ~300 tokens (ä»…Embedding) | å‡å°‘ 80% |

---

### 2. **æ™ºèƒ½å®¢æœç³»ç»Ÿ - å¤šä»£ç†åä½œ** â­â­â­â­â­
**é¡¹ç›®è·¯å¾„**: `Concepts/Agents`

**å®ç°çš„é«˜çº§ç‰¹æ€§**:
- âœ… **Agent Handoff**: 4ä¸ªä¸“ä¸šåŒ– Agent çš„æ™ºèƒ½åˆ‡æ¢
- âœ… **æ™ºèƒ½è·¯ç”±**: AI + å…³é”®è¯åŒé‡è·¯ç”±ç­–ç•¥
- âœ… **æµå¼å“åº”**: å®æ—¶æ˜¾ç¤º Agent å›ç­”
- âœ… **çœŸå® API**: è®¢å•æŸ¥è¯¢æ’ä»¶è¿æ¥æ¨¡æ‹Ÿæ•°æ®åº“
- âœ… **ä¸Šä¸‹æ–‡ä¼ é€’**: è·¨ Agent çš„å¯¹è¯å†å²ç®¡ç†

**è¿è¡Œæ–¹å¼**:
```bash
cd Concepts/Agents
dotnet run
```

**å­¦åˆ°çš„çŸ¥è¯†ç‚¹**:
- å¦‚ä½•è®¾è®¡ä¸“ä¸šåŒ–çš„ Agent
- å¦‚ä½•å®ç° Agent ä¹‹é—´çš„æ™ºèƒ½è·¯ç”±
- å¦‚ä½•åœ¨ Agent é—´ä¼ é€’ä¸Šä¸‹æ–‡
- å¦‚ä½•é›†æˆçœŸå®çš„åç«¯æœåŠ¡

---

### 3. **ç”µå•†è®¢å•å¤„ç†å·¥ä½œæµ** â­â­â­â­â­
**é¡¹ç›®è·¯å¾„**: `Concepts/OrderProcessWorkflow`

**å®ç°çš„é«˜çº§ç‰¹æ€§**:
- âœ… **å·¥ä½œæµç¼–æ’**: äº‹ä»¶é©±åŠ¨çš„æ­¥éª¤ç¼–æ’
- âœ… **çŠ¶æ€ç®¡ç†**: Order çŠ¶æ€è´¯ç©¿æ•´ä¸ªæµç¨‹
- âœ… **AI æ™ºèƒ½å†³ç­–**: é£é™©è¯„ä¼°å’Œæ¡ä»¶åˆ†æ”¯
- âœ… **å¹¶è¡Œå¤„ç†**: æ‰‡å‡º/æ‰‡å…¥æ¨¡å¼
- âœ… **é”™è¯¯æ¢å¤**: è‡ªåŠ¨é‡è¯•æœºåˆ¶

**è¿è¡Œæ–¹å¼**:
```bash
cd Concepts/OrderProcessWorkflow
dotnet run
```

**å­¦åˆ°çš„çŸ¥è¯†ç‚¹**:
- å¦‚ä½•è®¾è®¡äº‹ä»¶é©±åŠ¨çš„å·¥ä½œæµ
- å¦‚ä½•ç®¡ç†æµç¨‹çŠ¶æ€
- å¦‚ä½•å®ç°æ¡ä»¶åˆ†æ”¯
- å¦‚ä½•å¹¶è¡Œæ‰§è¡Œå¤šä¸ªä»»åŠ¡
- å¦‚ä½•å¤„ç†é”™è¯¯å’Œè‡ªåŠ¨é‡è¯•

---

### 4. **ä¼ä¸šçº§ Filter + Telemetry ç›‘æ§ç³»ç»Ÿ** â­â­â­â­â­ (NEW)
**é¡¹ç›®è·¯å¾„**: `Concepts/Filtering`

**å®ç°çš„é«˜çº§ç‰¹æ€§**:
- âœ… **æ€§èƒ½ç›‘æ§**: å®æ—¶è¿½è¸ªæ¯ä¸ªå‡½æ•°çš„æ‰§è¡Œæ—¶é—´å’Œ Token ä½¿ç”¨é‡
- âœ… **æˆæœ¬è¿½è¸ª**: è‡ªåŠ¨è®¡ç®— API è°ƒç”¨æˆæœ¬(è¾“å…¥/è¾“å‡º Token åˆ†åˆ«è®¡è´¹)
- âœ… **è¯·æ±‚æ—¥å¿—**: ç»“æ„åŒ–è®°å½•æ‰€æœ‰è¯·æ±‚å’Œå“åº”
- âœ… **è‡ªåŠ¨é‡è¯•**: ç½‘ç»œé”™è¯¯æŒ‡æ•°é€€é¿é‡è¯•(æœ€å¤š3æ¬¡)
- âœ… **é”™è¯¯å¤„ç†**: ç»Ÿä¸€å¼‚å¸¸å¤„ç†å’Œè¯¦ç»†é”™è¯¯æ—¥å¿—
- âœ… **å¤šå±‚è¿‡æ»¤å™¨é“¾**: æ—¥å¿— â†’ æ€§èƒ½ â†’ æˆæœ¬ â†’ é‡è¯• â†’ é”™è¯¯å¤„ç†
- âœ… **å®æ—¶ç›‘æ§ä»ªè¡¨æ¿**: èšåˆç»Ÿè®¡(P95/P99å“åº”æ—¶é—´ã€æˆåŠŸç‡ã€æˆæœ¬ç­‰)

**è¿è¡Œæ–¹å¼**:
```bash
cd Concepts/Filtering
dotnet run
```

**å­¦åˆ°çš„çŸ¥è¯†ç‚¹**:
- å¦‚ä½•ä½¿ç”¨ IFunctionInvocationFilter æ‹¦æˆªå‡½æ•°è°ƒç”¨
- å¦‚ä½•æå–å’Œè¿½è¸ª Token ä½¿ç”¨æƒ…å†µ
- å¦‚ä½•å®ç°è‡ªåŠ¨é‡è¯•æœºåˆ¶
- å¦‚ä½•èšåˆå’Œå±•ç¤ºç›‘æ§æŒ‡æ ‡
- å¦‚ä½•è®¾è®¡è¿‡æ»¤å™¨é“¾(Decorator æ¨¡å¼)

**ç›‘æ§ä»ªè¡¨æ¿ç¤ºä¾‹**:
```
ğŸ“Š è¯·æ±‚ç»Ÿè®¡
   - æ€»è¯·æ±‚æ•°: 10
   - æˆåŠŸè¯·æ±‚: 9
   - å¤±è´¥è¯·æ±‚: 1
   - æˆåŠŸç‡: 90.00%

â±ï¸ æ€§èƒ½æŒ‡æ ‡
   - å¹³å‡å“åº”æ—¶é—´: 1,234.56 ms
   - æœ€æ…¢å“åº”æ—¶é—´: 2,345 ms
   - P95 å“åº”æ—¶é—´: 2,100.00 ms
   - P99 å“åº”æ—¶é—´: 2,300.00 ms

ğŸª™ Token ä½¿ç”¨
   - æ€» Token æ•°: 15,420
   - å¹³å‡æ¯æ¬¡è¯·æ±‚: 1,542 tokens

ğŸ’° æˆæœ¬è¿½è¸ª
   - æ€»æˆæœ¬: $0.0462
   - è¾“å…¥æˆæœ¬: $0.0154
   - è¾“å‡ºæˆæœ¬: $0.0308
   - å¹³å‡æ¯æ¬¡è¯·æ±‚: $0.0046
```

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### å¤æ‚æ¡ˆä¾‹å¯¹æ¯”

| ç‰¹æ€§ | åŸå§‹ç‰ˆæœ¬ | å‡çº§å | æå‡ |
|------|---------|--------|------|
| **RAG** | æ¨¡æ‹Ÿå‘é‡,æ— æ•°æ®åº“ | âœ… Qdrant çœŸå®æ•°æ®åº“ + è¯­ä¹‰ç¼“å­˜ | ğŸš€ ç”Ÿäº§çº§ + æ€§èƒ½ä¼˜åŒ– |
| **Agents** | å• Agent,æ¨¡æ‹Ÿæ’ä»¶ | âœ… 4ä¸ªä¸“ä¸š Agent + çœŸå® API | ğŸš€ ä¼ä¸šçº§ |
| **Workflow** | - | âœ… AIå†³ç­– + å¹¶è¡Œ + é‡è¯• | ğŸš€ å…¨æ–°åŠŸèƒ½ |
| **Filtering** | ç®€å•æ—¥å¿—,æ¨¡æ‹Ÿé‡è¯• | âœ… å®Œæ•´ç›‘æ§ç³»ç»Ÿ + æˆæœ¬è¿½è¸ª + å®æ—¶ä»ªè¡¨æ¿ | ğŸš€ ä¼ä¸šçº§ç›‘æ§ |

### æŠ€æœ¯è¦†ç›–

| æŠ€æœ¯é¢†åŸŸ | è¦†ç›–ç¨‹åº¦ | æ¡ˆä¾‹ |
|---------|---------|------|
| **å‘é‡æ•°æ®åº“** | â­â­â­â­â­ | RAG (Qdrant) |
| **è¯­ä¹‰æœç´¢** | â­â­â­â­â­ | RAG |
| **è¯­ä¹‰ç¼“å­˜** | â­â­â­â­â­ | RAG (Semantic Cache) |
| **å¤šAgentåä½œ** | â­â­â­â­â­ | Agents (Handoff) |
| **æ™ºèƒ½è·¯ç”±** | â­â­â­â­â­ | Agents |
| **å·¥ä½œæµç¼–æ’** | â­â­â­â­â­ | OrderProcessWorkflow |
| **æµå¼å“åº”** | â­â­â­â­â­ | Agents (å·²å†…ç½®) |
| **çŠ¶æ€ç®¡ç†** | â­â­â­â­â­ | OrderProcessWorkflow |
| **å¹¶è¡Œå¤„ç†** | â­â­â­â­â­ | OrderProcessWorkflow |
| **é”™è¯¯æ¢å¤** | â­â­â­â­â­ | OrderProcessWorkflow, Filtering |
| **æ€§èƒ½ç›‘æ§** | â­â­â­â­â­ | Filtering (Telemetry) |
| **æˆæœ¬è¿½è¸ª** | â­â­â­â­â­ | Filtering (Cost Tracking) |
| **è¿‡æ»¤å™¨é“¾** | â­â­â­â­â­ | Filtering (Multi-layer) |

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ€»ç»“

### 1. RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) + è¯­ä¹‰ç¼“å­˜

**æ ¸å¿ƒæµç¨‹**:
```
ç”¨æˆ·æé—® â†’ [æ£€æŸ¥ç¼“å­˜] â†’ (å‘½ä¸­) â†’ è¿”å›ç¼“å­˜ç­”æ¡ˆ âœ…
           â†“ (æœªå‘½ä¸­)
           å‘é‡åŒ– â†’ è¯­ä¹‰æœç´¢ â†’ æ£€ç´¢Top-K â†’ å¢å¼ºæç¤ºè¯ â†’ LLMç”Ÿæˆ â†’ å­˜å…¥ç¼“å­˜
```

**å…³é”® API**:
```csharp
// ç”Ÿæˆå‘é‡
var embedding = await embeddingService.GenerateEmbeddingAsync(text);

// å­˜å‚¨å‘é‡
await qdrantClient.UpsertAsync(collectionName, points);

// å‘é‡æœç´¢
var results = await qdrantClient.SearchAsync(
    collectionName,
    queryEmbedding.ToArray(),
    limit: 3
);

// è¯­ä¹‰ç¼“å­˜æŸ¥è¯¢
var cachedAnswer = await cacheService.TryGetCachedAnswer(question);
if (cachedAnswer != null && cachedAnswer.Similarity > 0.95f)
{
    return cachedAnswer.Answer; // ç¼“å­˜å‘½ä¸­
}

// RAG ç”Ÿæˆ
history.AddUserMessage($"ç›¸å…³çŸ¥è¯†:\n{context}\n\né—®é¢˜: {question}");
var answer = await chatService.GetChatMessageContentAsync(history);

// å­˜å…¥ç¼“å­˜
await cacheService.CacheAnswer(question, answer);
```

---

### 2. Agent Handoff (å¤šä»£ç†åä½œ)

**æ ¸å¿ƒæµç¨‹**:
```
ç”¨æˆ·é—®é¢˜ â†’ åˆ†æµAgentè¯†åˆ«ç±»å‹ â†’ è·¯ç”±åˆ°ä¸“ä¸šAgent â†’ Agentå¤„ç† â†’ è¿”å›ç»“æœ
```

**å…³é”® API**:
```csharp
// åˆ›å»ºä¸“ä¸šåŒ– Agent
var agent = new ChatCompletionAgent
{
    Name = "è®¢å•ä¸“å‘˜",
    Instructions = "ä½ æ˜¯è®¢å•æŸ¥è¯¢ä¸“å‘˜...",
    Kernel = kernel
};

// æ™ºèƒ½è·¯ç”±
var routingResult = await RouteQuestion(triageAgent, question);
var targetAgent = agents[routingResult.AgentType];

// Agent è°ƒç”¨
await foreach (var response in targetAgent.InvokeAsync(history))
{
    Console.Write(response.Content); // æµå¼è¾“å‡º
}
```

---

### 3. å·¥ä½œæµç¼–æ’ (Process-like Framework)

**æ ¸å¿ƒæµç¨‹**:
```
åˆ›å»ºè®¢å• â†’ åº“å­˜æ£€æŸ¥ â†’ [AIé£é™©è¯„ä¼°] â†’ æ”¯ä»˜
    â†’ [å¹¶è¡Œ: å‘è´§+å‘ç¥¨+é€šçŸ¥] â†’ å‘è´§ â†’ å®Œæˆ
```

**å…³é”®æ¨¡å¼**:
```csharp
// 1. çº¿æ€§æµç¨‹
await Step1();
await Step2();
await Step3();

// 2. æ¡ä»¶åˆ†æ”¯
if (riskScore > 70)
    await ManualReview();
else
    await AutoProcess();

// 3. å¹¶è¡Œå¤„ç†(æ‰‡å‡º/æ‰‡å…¥)
var tasks = new[] { Task1(), Task2(), Task3() };
await Task.WhenAll(tasks);

// 4. é”™è¯¯é‡è¯•
for (int i = 0; i < maxRetries; i++)
{
    try { await ProcessPayment(); break; }
    catch { /* é‡è¯• */ }
}
```

---

### 4. Filter + Telemetry (ç›‘æ§ä¸é¥æµ‹)

**æ ¸å¿ƒæ¶æ„**:
```
è¯·æ±‚ â†’ ErrorHandlingFilter â†’ AutoRetryFilter â†’ CostTrackingFilter
      â†’ PerformanceMonitoringFilter â†’ RequestLoggingFilter â†’ å®é™…å‡½æ•°
```

**å…³é”® API**:
```csharp
// 1. æ³¨å†Œè¿‡æ»¤å™¨(é¡ºåºå¾ˆé‡è¦!)
builder.Services.AddSingleton<IFunctionInvocationFilter, RequestLoggingFilter>();
builder.Services.AddSingleton<IFunctionInvocationFilter, PerformanceMonitoringFilter>();
builder.Services.AddSingleton<IFunctionInvocationFilter, CostTrackingFilter>();
builder.Services.AddSingleton<IFunctionInvocationFilter, AutoRetryFilter>();
builder.Services.AddSingleton<IFunctionInvocationFilter, ErrorHandlingFilter>();

// 2. å®ç°è¿‡æ»¤å™¨
public class PerformanceMonitoringFilter : IFunctionInvocationFilter
{
    public async Task OnFunctionInvocationAsync(
        FunctionInvocationContext context,
        Func<FunctionInvocationContext, Task> next)
    {
        var stopwatch = Stopwatch.StartNew();

        await next(context); // è°ƒç”¨ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨æˆ–å®é™…å‡½æ•°

        stopwatch.Stop();

        // æå– Token ä½¿ç”¨ä¿¡æ¯
        var usage = context.Result?.Metadata?.TryGetValue("Usage", out var usageObj);

        // è®°å½•æŒ‡æ ‡
        _metrics.RecordPerformance(functionName, stopwatch.ElapsedMilliseconds, tokenUsage);
    }
}

// 3. æˆæœ¬è®¡ç®—
var inputCost = (promptTokens / 1000m) * 0.03m;   // $0.03/1K tokens
var outputCost = (completionTokens / 1000m) * 0.06m; // $0.06/1K tokens
var totalCost = inputCost + outputCost;

// 4. è‡ªåŠ¨é‡è¯•
for (int attempt = 0; attempt < MAX_RETRIES; attempt++)
{
    try
    {
        await next(context);
        return;
    }
    catch (HttpRequestException ex) when (attempt < MAX_RETRIES - 1)
    {
        await Task.Delay(_retryDelays[attempt]); // æŒ‡æ•°é€€é¿: 1s, 2s, 4s
    }
}
```

---

## ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®

### æ¨èè¡¥å……çš„é«˜çº§ç‰¹æ€§ (æŒ‰ä¼˜å…ˆçº§)

#### 1. ~~**Filter + Telemetry (è¿‡æ»¤å™¨/ç›‘æ§)**~~ âœ… å·²å®Œæˆ
**åŠŸèƒ½**:
- âœ… æ—¥å¿—è®°å½• (`IFunctionInvocationFilter`)
- âœ… æ€§èƒ½ç›‘æ§ (æ‰§è¡Œæ—¶é—´è¿½è¸ª)
- âœ… è‡ªåŠ¨é‡è¯• (å¤±è´¥é‡è¯•)
- âœ… Token ç»Ÿè®¡
- âœ… æˆæœ¬è¿½è¸ª
- âœ… å®æ—¶ä»ªè¡¨æ¿

---

#### 2. ~~**Semantic Caching (è¯­ä¹‰ç¼“å­˜)**~~ âœ… å·²å®Œæˆ
**åŠŸèƒ½**:
- âœ… åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„æ™ºèƒ½ç¼“å­˜
- âœ… å‘é‡ç›¸ä¼¼åº¦åŒ¹é… (> 0.95 ç›¸ä¼¼åº¦è¿”å›ç¼“å­˜)
- âœ… Qdrant åç«¯å­˜å‚¨
- âœ… æ€§èƒ½å’Œæˆæœ¬ç»Ÿè®¡

**æ•ˆæœ**: ä» 2000ms é™è‡³ 200ms, æˆæœ¬èŠ‚çœ 100% (ç¼“å­˜å‘½ä¸­æ—¶)

---

#### 3. **Vector Store ç»Ÿä¸€æŠ½è±¡** â­â­â­â­
**ä¸ºä»€ä¹ˆé‡è¦**: ä¸€å¥—ä»£ç æ”¯æŒå¤šç§å‘é‡æ•°æ®åº“

**åŠŸèƒ½**:
- ç»Ÿä¸€çš„å‘é‡å­˜å‚¨æ¥å£
- æ”¯æŒ 7+ ç§æ•°æ®åº“ (Qdrant, Redis, Azure AI Search, Postgres...)
- è½»æ¾åˆ‡æ¢åç«¯

**å‚è€ƒç¤ºä¾‹**: `samples/GettingStartedWithVectorStores/`

---

#### 4. **Agent é«˜çº§ç‰¹æ€§** â­â­â­â­
**åŠŸèƒ½**:
- Agent + RAG é›†æˆ
- å¯¹è¯å†å²å‹ç¼© (ChatHistoryReducer)
- åŠ¨æ€æ¨¡å‹é€‰æ‹©

**å‚è€ƒç¤ºä¾‹**: `samples/Concepts/Agents/ChatCompletion_Rag.cs`

---

#### 5. **FrugalGPT (æˆæœ¬ä¼˜åŒ–)** â­â­â­
**åŠŸèƒ½**:
- Few-Shot ç¤ºä¾‹æ™ºèƒ½é€‰æ‹©
- LLM Cascade (ä¾¿å®œ â†’ æ˜‚è´µ)
- Prompt å‹ç¼©

**æ•ˆæœ**: Token ä½¿ç”¨ä» ~430 é™è‡³ ~150

**å‚è€ƒç¤ºä¾‹**: `samples/Concepts/Optimization/FrugalGPTWithFilters.cs`

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
SemanticDemo/
â”œâ”€â”€ Common/                          # å…±äº«é…ç½®å’Œå·¥å…·
â”‚   â”œâ”€â”€ Settings.cs                 # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ appsettings.json            # API å¯†é’¥é…ç½®
â”‚
â”œâ”€â”€ Starts/                          # å…¥é—¨æ¡ˆä¾‹
â”‚   â”œâ”€â”€ GettingStarted/
â”‚   â”œâ”€â”€ BasicKernelLoading/
â”‚   â””â”€â”€ FunctionCalling/
â”‚
â”œâ”€â”€ Concepts/                        # æ ¸å¿ƒæ¦‚å¿µ
â”‚   â”œâ”€â”€ ChatCompletion/
â”‚   â”œâ”€â”€ Plugins/
â”‚   â”œâ”€â”€ PromptTemplates/
â”‚   â”œâ”€â”€ Memory/
â”‚   â”œâ”€â”€ DependencyInjection/
â”‚   â”‚
â”‚   â”œâ”€â”€ â­ RAG/                      # [å‡çº§] çœŸå® RAG + è¯­ä¹‰ç¼“å­˜
â”‚   â”œâ”€â”€ â­ Agents/                   # [å‡çº§] å¤šä»£ç†åä½œ
â”‚   â”œâ”€â”€ â­ OrderProcessWorkflow/     # [æ–°] è®¢å•å·¥ä½œæµ
â”‚   â””â”€â”€ â­ Filtering/                # [å‡çº§] ä¼ä¸šçº§ç›‘æ§ç³»ç»Ÿ
â”‚
â””â”€â”€ çœŸå®å¤æ‚æ¡ˆä¾‹è¯´æ˜.md              # è¯¦ç»†æ–‡æ¡£
```

---

## ğŸ“ å­¦ä¹ è·¯å¾„æ€»ç»“

### é˜¶æ®µ 1: åŸºç¡€ (å·²å®Œæˆ âœ…)
- Kernel åˆ›å»ºå’Œé…ç½®
- ChatCompletion
- Function Calling
- Plugins

### é˜¶æ®µ 2: è¿›é˜¶ (å·²å®Œæˆ âœ…)
- Prompt Templates
- Filtering (åŸºç¡€æ¦‚å¿µ)
- Dependency Injection
- Memory (åŸºç¡€æ¦‚å¿µ)

### é˜¶æ®µ 3: é«˜çº§ (å·²å®Œæˆ âœ…)
- âœ… **çœŸå®çš„ RAG ç³»ç»Ÿ** (Qdrant)
- âœ… **å¤šä»£ç†åä½œ** (Agent Handoff)
- âœ… **å·¥ä½œæµç¼–æ’** (Process-like)

### é˜¶æ®µ 4: ä¼ä¸šçº§ (å·²å®Œæˆ âœ…)
- âœ… **Filter + Telemetry** (å®Œæ•´ç›‘æ§ç³»ç»Ÿ)
- âœ… **Semantic Caching** (è¯­ä¹‰ç¼“å­˜)
- â³ Vector Store æŠ½è±¡
- â³ FrugalGPT (æˆæœ¬ä¼˜åŒ–)

---

## ğŸ’¡ å…³é”®æ”¶è·

### 1. **çœŸå® > æ¨¡æ‹Ÿ**
- ä½¿ç”¨çœŸå®çš„å‘é‡æ•°æ®åº“ (Qdrant)
- è¿æ¥çœŸå®çš„ API (è®¢å•æŸ¥è¯¢)
- æ¨¡æ‹ŸçœŸå®çš„ä¸šåŠ¡åœºæ™¯ (å®¢æœã€è®¢å•)
- çœŸå®çš„æˆæœ¬è¿½è¸ªå’Œæ€§èƒ½ç›‘æ§

### 2. **å¤æ‚ > ç®€å•**
- å¤šä»£ç†åä½œ > å•ä»£ç†
- å®Œæ•´å·¥ä½œæµ > ç®€å•æµç¨‹
- æ™ºèƒ½å†³ç­– > ç¡¬ç¼–ç é€»è¾‘
- å¤šå±‚è¿‡æ»¤å™¨é“¾ > å•ä¸€è¿‡æ»¤å™¨

### 3. **å®ç”¨ > æ¼”ç¤º**
- å¯ç›´æ¥è¿è¡Œçš„ä»£ç 
- çœŸå®çš„ä¸šåŠ¡åœºæ™¯
- å¯æ‰©å±•çš„æ¶æ„
- å¯è§‚æµ‹æ€§ (ç›‘æ§ã€æ—¥å¿—ã€æŒ‡æ ‡)

### 4. **ä¼˜åŒ– > åŠŸèƒ½**
- è¯­ä¹‰ç¼“å­˜ 10x æ€§èƒ½æå‡
- è‡ªåŠ¨é‡è¯•æå‡ç¨³å®šæ€§
- æˆæœ¬è¿½è¸ªå¸®åŠ©æ§åˆ¶é¢„ç®—
- P95/P99 æŒ‡æ ‡ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

---

## ğŸ”— å‚è€ƒèµ„æº

- [Semantic Kernel å®˜æ–¹æ–‡æ¡£](https://learn.microsoft.com/semantic-kernel)
- [å®˜æ–¹ç¤ºä¾‹ä»£ç ](https://github.com/microsoft/semantic-kernel/tree/main/dotnet/samples)
- [Qdrant æ–‡æ¡£](https://qdrant.tech/)
- [Process Framework æŒ‡å—](https://github.com/microsoft/semantic-kernel/tree/main/dotnet/samples/GettingStartedWithProcesses)
- [Telemetry with Filters](https://github.com/microsoft/semantic-kernel/blob/main/dotnet/samples/Concepts/Filtering/TelemetryWithFilters.cs)

---

## ğŸ‰ æ€»ç»“

é€šè¿‡æœ¬æ¬¡å­¦ä¹ ,æˆ‘ä»¬:

1. âœ… åˆ›å»ºäº† **4ä¸ªçœŸå®çš„å¤æ‚æ¡ˆä¾‹**
2. âœ… è¦†ç›–äº† **RAGã€Agent Handoffã€å·¥ä½œæµç¼–æ’ã€ç›‘æ§ç³»ç»Ÿ**
3. âœ… ä½¿ç”¨äº† **çœŸå®çš„å‘é‡æ•°æ®åº“å’Œ API**
4. âœ… å®ç°äº† **ä¼ä¸šçº§çš„åŠŸèƒ½** (å¹¶è¡Œã€é‡è¯•ã€çŠ¶æ€ç®¡ç†ã€ç›‘æ§ã€ç¼“å­˜)
5. âœ… å­¦ä¹ äº† **Process Framework çš„æ ¸å¿ƒæ¦‚å¿µ**
6. âœ… æŒæ¡äº† **Filter + Telemetry çš„å®Œæ•´æ¶æ„**
7. âœ… å®ç°äº† **è¯­ä¹‰ç¼“å­˜** ä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬

### ä¼ä¸šçº§ç‰¹æ€§å¯¹æ¯”

| ç‰¹æ€§ | ä¹‹å‰ | ç°åœ¨ | ä»·å€¼ |
|------|------|------|------|
| **RAG æ€§èƒ½** | æ¯æ¬¡ 2000ms | ç¼“å­˜å‘½ä¸­ 200ms | 10x æå‡ |
| **æˆæœ¬æ§åˆ¶** | æ— è¿½è¸ª | å®æ—¶è®¡ç®—åˆ°æ¯æ¬¡è¯·æ±‚ | å¯è§‚æµ‹ |
| **é”™è¯¯å¤„ç†** | æ‰‹åŠ¨é‡è¯• | è‡ªåŠ¨é‡è¯• + è¯¦ç»†æ—¥å¿— | é«˜å¯ç”¨ |
| **ç›‘æ§èƒ½åŠ›** | æ—  | P95/P99/æˆåŠŸç‡/Tokenç»Ÿè®¡ | ç”Ÿäº§å°±ç»ª |

è¿™äº›æ¡ˆä¾‹ä¸æ˜¯ç®€å•çš„æ¦‚å¿µæ¼”ç¤º,è€Œæ˜¯**å¯ä»¥ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒçš„çœŸå®ä»£ç **! ğŸš€

---

**æœ€åæ›´æ–°**: 2024-12-17
**é¡¹ç›®çŠ¶æ€**: âœ… æ‰€æœ‰ 19 ä¸ªé¡¹ç›®ç¼–è¯‘æˆåŠŸ (0 warnings, 0 errors)
**ä¼ä¸šçº§ç‰¹æ€§**: âœ… Filter + Telemetry âœ… Semantic Caching
